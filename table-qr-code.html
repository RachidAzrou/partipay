<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tafel QR Code - De Blauwe Kater</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(to bottom, #fff7ed, #ffffff);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .qr-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 40px;
            text-align: center;
            max-width: 400px;
            width: 100%;
        }
        .restaurant-header {
            margin-bottom: 30px;
        }
        .restaurant-icon {
            width: 60px;
            height: 60px;
            background: #f97316;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }
        .restaurant-icon svg {
            width: 30px;
            height: 30px;
            fill: white;
        }
        h1 {
            color: #1f2937;
            font-size: 24px;
            font-weight: bold;
            margin: 0 0 10px;
        }
        .subtitle {
            color: #6b7280;
            font-size: 16px;
            margin: 0 0 30px;
        }
        .qr-code {
            background: white;
            border: 2px solid #f3f4f6;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: inline-block;
        }
        .restaurant-info {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin-top: 20px;
        }
        .restaurant-info p {
            margin: 5px 0;
        }
        .table-info {
            background: #fef3c7;
            border: 1px solid #fbbf24;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            color: #92400e;
            font-weight: 600;
        }
        .instructions {
            background: #eff6ff;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            text-align: left;
        }
        .instructions h3 {
            color: #1e40af;
            margin: 0 0 15px;
            font-size: 16px;
        }
        .instructions ol {
            color: #1e40af;
            margin: 0;
            padding-left: 20px;
        }
        .instructions li {
            margin: 8px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="qr-container">
        <div class="restaurant-header">
            <div class="restaurant-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M18.06 23h1.66c.84 0 1.53-.64 1.63-1.47L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29V23zM1 22v-1h15.03v1c0 .54-.45 1-1.03 1H2c-.55 0-1-.46-1-1zm15.03-7.32c0-2.4-.99-3.87-2.43-5.29-.96-.94-2.56-1.79-4.27-2.26L9.03 5.05H1.97L.34 21.53c-.1.83.79 1.47 1.63 1.47h1.66v-7.32z"/>
                </svg>
            </div>
            <h1>Restaurant De Blauwe Kater</h1>
            <p class="subtitle">Scan om je rekening te splitsen</p>
        </div>

        <div class="table-info">
            Tafel 12
        </div>

        <div class="qr-code" id="qrcode"></div>

        <div class="restaurant-info">
            <p><strong>De Blauwe Kater</strong></p>
            <p>Grote Markt 8, 9000 Gent</p>
            <p>Tel: 09-123-45-67</p>
        </div>

        <div class="instructions">
            <h3>Hoe werkt het?</h3>
            <ol>
                <li>Scan deze QR-code met je telefoon camera</li>
                <li>De PartiPay app opent automatisch</li>
                <li>Kies hoe je de rekening wilt splitsen</li>
                <li>Nodig vrienden uit om mee te betalen</li>
                <li>Iedereen betaalt zijn deel direct</li>
            </ol>
        </div>
    </div>

    <script>
        // Generate QR Code
        const currentUrl = window.location.origin;
        const tableData = {
            restaurant: "De Blauwe Kater",
            table: "12", 
            billId: "De Blauwe Kater-12"
        };
        
        // Create URL that triggers the app
        const qrUrl = `${currentUrl.replace('/table-qr-code.html', '')}/?scan=${encodeURIComponent(JSON.stringify(tableData))}`;
        
        // Generate QR code
        const qr = qrcode(0, 'M');
        qr.addData(qrUrl);
        qr.make();
        
        // Create QR code element
        const qrElement = qr.createImgTag(6, 8);
        document.getElementById('qrcode').innerHTML = qrElement;
        
        // Add click functionality for testing
        document.getElementById('qrcode').addEventListener('click', function() {
            window.open(qrUrl, '_blank');
        });
        
        // Log QR data for debugging
        console.log('QR Code Data:', qrUrl);
    </script>
</body>
</html>